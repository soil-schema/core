# Draft data model for writing

The Swift/Kotlin standard code generator (blueprint) in soil-schema generates a data model for decoding responses from the API and for sending requests to the API using POST and PUT methods, respectively.

```soil schema
entity Article {
  field id: Integer
  mutable field body: String
  write-only field trackback_id: Integer?
}
```

`mutable` annotation of `field` directive: the field is included in response and can be modified by request body for POST/PUT endpoint.

`write-only` annotation on `field` directive: the field does not exist in response and can only be set on request body for the POST/PUT endpoint.

|annotation|Receiver|Draft|
|:---:|---|---|
|-|✔|✘|
|`mutable`|✔|✔|
|`write-only`|✘|✔|

## Swift

Swift blueprint exports baisc data model (used by decode the response from endpoint) and draft model named `Draft`.

```swift generated
struct Article: Decodable {

    let id: Int

    let body: String

    init(id: Int, body: String) {
        self.id = id
        self.body = body
    }

    struct Draft: Encodable {

        var body: String

        var trackbackId: Int?

        init(body: String, trackbackId: Int?) {
            self.body = body
            self.trackbackId = trackbackId
        }

    }

}
```

The data model generated by soil-schema is intended to be used as a DTO.

```swift
class ArticleModel: ObervableObject {

    let id: Int

    @Published
    var body: String

    @Published
    var trackbackId: Int? = nil

    init(dto article: Article) {
        self.id = article.id
        self.body = article.body
    }

    func makeDraft(): Article.Draft {
        .init(body: self.body, trackbackId: self.trackbackId)
    }
}
```

## Kotlin

```kotlin generated
package com.soil

import android.net.Uri.Builder as UrlBuilder

data class Article(
    val id: Int,
    val body: String,
) {

    data class Draft(
        val body: String,
        val trackbackId: Int?,
    ) {

    }

}
```